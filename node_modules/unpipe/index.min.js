"use strict";function hasPipeDataListeners(t){for(var e=t.listeners("data"),r=0;r<e.length;r++)if("ondata"===e[r].name)return!0;return!1}function unpipe(t){if(!t)throw new TypeError("argument stream is required");if("function"==typeof t.unpipe)return void t.unpipe();if(hasPipeDataListeners(t))for(var e,r=t.listeners("close"),n=0;n<r.length;n++)e=r[n],("cleanup"===e.name||"onclose"===e.name)&&e.call(t)}module.exports=unpipe;