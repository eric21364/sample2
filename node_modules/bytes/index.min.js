"use strict";function bytes(t,e){return"string"==typeof t?parse(t):"number"==typeof t?format(t,e):null}function format(t,e){if(!numberIsFinite(t))return null;var n=Math.abs(t),i=e&&e.thousandsSeparator||"",a=e&&e.unitSeparator||"",r=e&&void 0!==e.decimalPlaces?e.decimalPlaces:2,o=Boolean(e&&e.fixedDecimals),s="B";n>=map.tb?s="TB":n>=map.gb?s="GB":n>=map.mb?s="MB":n>=map.kb&&(s="kB");var h=t/map[s.toLowerCase()],l=h.toFixed(r);return o||(l=l.replace(formatDecimalsRegExp,"$1")),i&&(l=l.replace(formatThousandsRegExp,i)),l+a+s}function parse(t){if("number"==typeof t&&!isNaN(t))return t;if("string"!=typeof t)return null;var n,e=parseRegExp.exec(t),i="b";return e?(n=parseFloat(e[1]),i=e[4].toLowerCase()):(n=parseInt(t,10),i="b"),Math.floor(map[i]*n)}module.exports=bytes,module.exports.format=format,module.exports.parse=parse;var formatThousandsRegExp=/\B(?=(\d{3})+(?!\d))/g,formatDecimalsRegExp=/(?:\.0*|(\.[^0]+)0+)$/,map={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:1024*(1<<30)},numberIsFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},parseRegExp=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i;