"use strict";function auth(t){if(!t)throw new TypeError("argument req is required");if("object"!=typeof t)throw new TypeError("argument req is required to be an object");var e=getAuthorization(t.req||t);return parse(e)}function decodeBase64(t){return new Buffer(t,"base64").toString()}function getAuthorization(t){if(!t.headers||"object"!=typeof t.headers)throw new TypeError("argument req is required to have headers property");return t.headers.authorization}function parse(t){if("string"!=typeof t)return void 0;var e=CREDENTIALS_REGEXP.exec(t);if(!e)return void 0;var n=USER_PASS_REGEXP.exec(decodeBase64(e[1]));return n?new Credentials(n[1],n[2]):void 0}function Credentials(t,e){this.name=t,this.pass=e}module.exports=auth,module.exports.parse=parse;var CREDENTIALS_REGEXP=/^ *(?:[Bb][Aa][Ss][Ii][Cc]) +([A-Za-z0-9._~+\/-]+=*) *$/,USER_PASS_REGEXP=/^([^:]*):(.*)$/;