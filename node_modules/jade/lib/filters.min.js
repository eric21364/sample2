"use strict";function getMarkdownImplementation(){for(var e=["marked","supermarked","markdown-js","markdown"];e.length;)try{return require(e[0]),e[0]}catch(t){e.shift()}return"markdown-it"}function filter(e,t,r){if("function"==typeof filter[e])return filter[e](t,r);var i;try{i=jstransformer(require("jstransformer-"+e))}catch(n){}if(i){var s=i.render(t,r,r).body;if(r&&r.minify)try{switch(i.outputFormat){case"js":s=uglify.minify(s,{fromString:!0}).code;break;case"css":s=(new CleanCSS).minify(s).styles}}catch(n){}return s}if(transformers[e]){if(!warned[e])if(warned[e]=!0,"md"===e||"markdown"===e){var a=getMarkdownImplementation();console.log("Transformers."+e+" is deprecated, you must replace the :"+e+" jade filter, with :"+a+" and install jstransformer-"+a+" before you update to jade@2.0.0.")}else alternatives[e]?console.log("Transformers."+e+" is deprecated, you must replace the :"+e+" jade filter, with :"+alternatives[e]+" and install jstransformer-"+alternatives[e]+" before you update to jade@2.0.0."):console.log("Transformers."+e+" is deprecated, to continue using the :"+e+" jade filter after jade@2.0.0, you will need to install jstransformer-"+e.toLowerCase()+".");return transformers[e].renderSync(t,r)}throw new Error('unknown filter ":'+e+'"')}var transformers=require("transformers"),jstransformer=require("jstransformer"),uglify=require("uglify-js"),CleanCSS=require("clean-css"),warned={},alternatives={uglifyJS:"uglify-js",uglify:"uglify-js",uglifyCSS:"clean-css","uglify-css":"clean-css",uglifyJSON:"json","uglify-json":"json",live:"livescript",LiveScript:"livescript",ls:"livescript",coffeekup:"coffeecup",styl:"stylus",coffee:"coffee-script",coffeescript:"coffee-script",coffeeScript:"coffee-script",css:"verbatim",js:"verbatim"},deprecated=["jqtpl","jazz"];module.exports=filter;