var assert=require("better-assert"),expect=require("expect.js"),parseuri=require("./index.js");describe("my suite",function(){it("should parse an uri",function(){var t=parseuri("http://google.com"),e=parseuri("https://www.google.com:80"),r=parseuri("google.com:8080/foo/bar?foo=bar"),n=parseuri("localhost:8080"),i=parseuri("2001:0db8:85a3:0042:1000:8a2e:0370:7334"),a=parseuri("2001:db8:85a3:42:1000:8a2e:370:7334"),s=parseuri("2001:db8:85a3:42:1000:8a2e:370:7334:80"),o=parseuri("2001::7334:a:80"),h=parseuri("http://[2001::7334:a]:80"),c=parseuri("http://[2001::7334:a]:80/foo/bar?foo=bar");expect(t.protocol).to.be("http"),expect(t.port).to.be(""),expect(t.host).to.be("google.com"),expect(e.protocol).to.be("https"),expect(e.port).to.be("80"),expect(e.host).to.be("www.google.com"),expect(r.port).to.be("8080"),expect(r.query).to.be("foo=bar"),expect(r.path).to.be("/foo/bar"),expect(r.relative).to.be("/foo/bar?foo=bar"),expect(n.protocol).to.be(""),expect(n.host).to.be("localhost"),expect(n.port).to.be("8080"),expect(i.protocol).to.be(""),expect(i.host).to.be("2001:0db8:85a3:0042:1000:8a2e:0370:7334"),expect(i.port).to.be(""),expect(a.protocol).to.be(""),expect(a.host).to.be("2001:db8:85a3:42:1000:8a2e:370:7334"),expect(a.port).to.be(""),expect(s.protocol).to.be(""),expect(s.host).to.be("2001:db8:85a3:42:1000:8a2e:370:7334"),expect(s.port).to.be("80"),expect(o.protocol).to.be(""),expect(o.host).to.be("2001::7334:a:80"),expect(o.port).to.be(""),expect(h.protocol).to.be("http"),expect(h.port).to.be("80"),expect(h.host).to.be("2001::7334:a"),expect(c.protocol).to.be("http"),expect(c.port).to.be("80"),expect(c.host).to.be("2001::7334:a"),expect(c.relative).to.be("/foo/bar?foo=bar")})});