"use strict";function typeis(t,e){var r,n=e,i=tryNormalizeType(t);if(!i)return!1;if(n&&!Array.isArray(n))for(n=new Array(arguments.length-1),r=0;r<n.length;r++)n[r]=arguments[r+1];if(!n||!n.length)return i;var a;for(r=0;r<n.length;r++)if(mimeMatch(normalize(a=n[r]),i))return"+"===a[0]||-1!==a.indexOf("*")?i:a;return!1}function hasbody(t){return void 0!==t.headers["transfer-encoding"]||!isNaN(t.headers["content-length"])}function typeofrequest(t,e){var r=e;if(!hasbody(t))return null;if(arguments.length>2){r=new Array(arguments.length-1);for(var n=0;n<r.length;n++)r[n]=arguments[n+1]}var i=t.headers["content-type"];return typeis(i,r)}function normalize(t){if("string"!=typeof t)return!1;switch(t){case"urlencoded":return"application/x-www-form-urlencoded";case"multipart":return"multipart/*"}return"+"===t[0]?"*/*"+t:-1===t.indexOf("/")?mime.lookup(t):t}function mimeMatch(t,e){if(t===!1)return!1;var r=e.split("/"),n=t.split("/");return 2!==r.length||2!==n.length?!1:"*"!==n[0]&&n[0]!==r[0]?!1:"*+"===n[1].substr(0,2)?n[1].length<=r[1].length+1&&n[1].substr(1)===r[1].substr(1-n[1].length):"*"!==n[1]&&n[1]!==r[1]?!1:!0}function normalizeType(t){var e=typer.parse(t);return e.parameters=void 0,typer.format(e)}function tryNormalizeType(t){try{return normalizeType(t)}catch(e){return null}}var typer=require("media-typer"),mime=require("mime-types");module.exports=typeofrequest,module.exports.is=typeis,module.exports.hasBody=hasbody,module.exports.normalize=normalize,module.exports.match=mimeMatch;