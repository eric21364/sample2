!function(){"use strict";var e=Konva.Util.createCanvasElement(),t=e.getContext("2d"),r=function(){var e=Konva.window.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/r}();Konva.Canvas=function(e){this.init(e)},Konva.Canvas.prototype={init:function(e){var t=e||{},i=t.pixelRatio||Konva.pixelRatio||r;this.pixelRatio=i,this._canvas=Konva.Util.createCanvasElement(),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)},setWidth:function(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio,r=this.getContext()._context;r.scale(t,t)},setHeight:function(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio,r=this.getContext()._context;r.scale(t,t)},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(e,t){this.setWidth(e),this.setHeight(t)},toDataURL:function(e,t){try{return this._canvas.toDataURL(e,t)}catch(r){try{return this._canvas.toDataURL()}catch(i){return Konva.Util.warn("Unable to get data URL. "+i.message),""}}}},Konva.SceneCanvas=function(e){var t=e||{},r=t.width||0,i=t.height||0;Konva.Canvas.call(this,t),this.context=new Konva.SceneContext(this),this.setSize(r,i)},Konva.Util.extend(Konva.SceneCanvas,Konva.Canvas),Konva.HitCanvas=function(e){var t=e||{},r=t.width||0,i=t.height||0;Konva.Canvas.call(this,t),this.context=new Konva.HitContext(this),this.setSize(r,i),this.hitCanvas=!0},Konva.Util.extend(Konva.HitCanvas,Konva.Canvas)}();