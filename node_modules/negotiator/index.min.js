"use strict";function Negotiator(t){return this instanceof Negotiator?void(this.request=t):new Negotiator(t)}function loadModule(t){var e=modules[t];if(void 0!==e)return e;switch(t){case"charset":e=require("./lib/charset");break;case"encoding":e=require("./lib/encoding");break;case"language":e=require("./lib/language");break;case"mediaType":e=require("./lib/mediaType");break;default:throw new Error("Cannot find module '"+t+"'")}return modules[t]=e,e}var modules=Object.create(null);module.exports=Negotiator,module.exports.Negotiator=Negotiator,Negotiator.prototype.charset=function(t){var e=this.charsets(t);return e&&e[0]},Negotiator.prototype.charsets=function(t){var e=loadModule("charset").preferredCharsets;return e(this.request.headers["accept-charset"],t)},Negotiator.prototype.encoding=function(t){var e=this.encodings(t);return e&&e[0]},Negotiator.prototype.encodings=function(t){var e=loadModule("encoding").preferredEncodings;return e(this.request.headers["accept-encoding"],t)},Negotiator.prototype.language=function(t){var e=this.languages(t);return e&&e[0]},Negotiator.prototype.languages=function(t){var e=loadModule("language").preferredLanguages;return e(this.request.headers["accept-language"],t)},Negotiator.prototype.mediaType=function(t){var e=this.mediaTypes(t);return e&&e[0]},Negotiator.prototype.mediaTypes=function(t){var e=loadModule("mediaType").preferredMediaTypes;return e(this.request.headers.accept,t)},Negotiator.prototype.preferredCharset=Negotiator.prototype.charset,Negotiator.prototype.preferredCharsets=Negotiator.prototype.charsets,Negotiator.prototype.preferredEncoding=Negotiator.prototype.encoding,Negotiator.prototype.preferredEncodings=Negotiator.prototype.encodings,Negotiator.prototype.preferredLanguage=Negotiator.prototype.language,Negotiator.prototype.preferredLanguages=Negotiator.prototype.languages,Negotiator.prototype.preferredMediaType=Negotiator.prototype.mediaType,Negotiator.prototype.preferredMediaTypes=Negotiator.prototype.mediaTypes;