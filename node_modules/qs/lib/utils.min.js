"use strict";var has=Object.prototype.hasOwnProperty,hexTable=function(){for(var e=[],t=0;256>t;++t)e.push("%"+((16>t?"0":"")+t.toString(16)).toUpperCase());return e}();exports.arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)"undefined"!=typeof e[i]&&(r[i]=e[i]);return r},exports.merge=function(e,t,r){if(!t)return e;if("object"!=typeof t){if(Array.isArray(e))e.push(t);else{if("object"!=typeof e)return[e,t];(r.plainObjects||r.allowPrototypes||!has.call(Object.prototype,t))&&(e[t]=!0)}return e}if("object"!=typeof e)return[e].concat(t);var i=e;return Array.isArray(e)&&!Array.isArray(t)&&(i=exports.arrayToObject(e,r)),Array.isArray(e)&&Array.isArray(t)?(t.forEach(function(t,i){has.call(e,i)?e[i]&&"object"==typeof e[i]?e[i]=exports.merge(e[i],t,r):e.push(t):e[i]=t}),e):Object.keys(t).reduce(function(e,i){var n=t[i];return Object.prototype.hasOwnProperty.call(e,i)?e[i]=exports.merge(e[i],n,r):e[i]=n,e},i)},exports.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},exports.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",i=0;i<t.length;++i){var n=t.charCodeAt(i);45===n||46===n||95===n||126===n||n>=48&&57>=n||n>=65&&90>=n||n>=97&&122>=n?r+=t.charAt(i):128>n?r+=hexTable[n]:2048>n?r+=hexTable[192|n>>6]+hexTable[128|63&n]:55296>n||n>=57344?r+=hexTable[224|n>>12]+hexTable[128|n>>6&63]+hexTable[128|63&n]:(i+=1,n=65536+((1023&n)<<10|1023&t.charCodeAt(i)),r+=hexTable[240|n>>18]+hexTable[128|n>>12&63]+hexTable[128|n>>6&63]+hexTable[128|63&n])}return r},exports.compact=function(e,t){if("object"!=typeof e||null===e)return e;var r=t||[],i=r.indexOf(e);if(-1!==i)return r[i];if(r.push(e),Array.isArray(e)){for(var n=[],s=0;s<e.length;++s)e[s]&&"object"==typeof e[s]?n.push(exports.compact(e[s],r)):"undefined"!=typeof e[s]&&n.push(e[s]);return n}var a=Object.keys(e);return a.forEach(function(t){e[t]=exports.compact(e[t],r)}),e},exports.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},exports.isBuffer=function(e){return null===e||"undefined"==typeof e?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};