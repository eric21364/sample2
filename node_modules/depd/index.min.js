function containsNamespace(t,e){var n=t.split(/[ ,]+/);e=String(e).toLowerCase();for(var r=0;r<n.length;r++)if((t=n[r])&&("*"===t||t.toLowerCase()===e))return!0;return!1}function convertDataDescriptorToAccessor(t,e,n){var r=Object.getOwnPropertyDescriptor(t,e),i=r.value;return r.get=function(){return i},r.writable&&(r.set=function(t){return i=t}),delete r.value,delete r.writable,Object.defineProperty(t,e,r),r}function createArgumentsString(t){for(var e="",n=0;t>n;n++)e+=", arg"+n;return e.substr(2)}function createStackString(t){var e=this.name+": "+this.namespace;this.message&&(e+=" deprecated "+this.message);for(var n=0;n<t.length;n++)e+="\n    at "+callSiteToString(t[n]);return e}function depd(t){function i(t){log.call(i,t)}if(!t)throw new TypeError("argument namespace is required");var e=getStack(),n=callSiteLocation(e[1]),r=n[0];return i._file=r,i._ignored=isignored(t),i._namespace=t,i._traced=istraced(t),i._warned=Object.create(null),i["function"]=wrapfunction,i.property=wrapproperty,i}function isignored(t){if(process.noDeprecation)return!0;var e=process.env.NO_DEPRECATION||"";return containsNamespace(e,t)}function istraced(t){if(process.traceDeprecation)return!0;var e=process.env.TRACE_DEPRECATION||"";return containsNamespace(e,t)}function log(t,e){var n=0!==eventListenerCount(process,"deprecation");if(n||!this._ignored){var r,i,a,o=0,s=!1,h=getStack(),l=this._file;for(e?(a=callSiteLocation(h[1]),a.name=e.name,l=a[0]):(o=2,e=callSiteLocation(h[o]),a=e);o<h.length;o++)if(r=callSiteLocation(h[o]),i=r[0],i===l)s=!0;else if(i===this._file)l=this._file;else if(s)break;var u=r?e.join(":")+"__"+r.join(":"):void 0;if(!(void 0!==u&&u in this._warned)){if(this._warned[u]=!0,t||(t=defaultMessage(a!==e&&a.name?a:e)),n){var c=DeprecationError(this._namespace,t,h.slice(o));return void process.emit("deprecation",c)}var f=process.stderr.isTTY?formatColor:formatPlain,d=f.call(this,t,r,h.slice(o));process.stderr.write(d+"\n","utf8")}}}function callSiteLocation(t){var e=t.getFileName()||"<anonymous>",n=t.getLineNumber(),r=t.getColumnNumber();t.isEval()&&(e=t.getEvalOrigin()+", "+e);var i=[e,n,r];return i.callSite=t,i.name=t.getFunctionName(),i}function defaultMessage(t){var e=t.callSite,n=t.name;n||(n="<anonymous@"+formatLocation(t)+">");var r=e.getThis(),i=r&&e.getTypeName();return"Object"===i&&(i=void 0),"Function"===i&&(i=r.name||i),i&&e.getMethodName()?i+"."+n:n}function formatPlain(t,e,n){var r=(new Date).toUTCString(),i=r+" "+this._namespace+" deprecated "+t;if(this._traced){for(var a=0;a<n.length;a++)i+="\n    at "+callSiteToString(n[a]);return i}return e&&(i+=" at "+formatLocation(e)),i}function formatColor(t,e,n){var r="[36;1m"+this._namespace+"[22;39m [33;1mdeprecated[22;39m [0m"+t+"[39m";if(this._traced){for(var i=0;i<n.length;i++)r+="\n    [36mat "+callSiteToString(n[i])+"[39m";return r}return e&&(r+=" [36m"+formatLocation(e)+"[39m"),r}function formatLocation(t){return relative(basePath,t[0])+":"+t[1]+":"+t[2]}function getStack(){var t=Error.stackTraceLimit,e={},n=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace,Error.stackTraceLimit=Math.max(10,t),Error.captureStackTrace(e);var r=e.stack.slice(1);return Error.prepareStackTrace=n,Error.stackTraceLimit=t,r}function prepareObjectStackTrace(t,e){return e}function wrapfunction(fn,message){if("function"!=typeof fn)throw new TypeError("argument fn must be a function");var args=createArgumentsString(fn.length),deprecate=this,stack=getStack(),site=callSiteLocation(stack[1]);site.name=fn.name;var deprecatedfn=eval("(function ("+args+') {\n"use strict"\nlog.call(deprecate, message, site)\nreturn fn.apply(this, arguments)\n})');return deprecatedfn}function wrapproperty(t,e,n){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("argument obj must be object");var r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw new TypeError("must call property on owner object");if(!r.configurable)throw new TypeError("property must be configurable");var i=this,a=getStack(),o=callSiteLocation(a[1]);o.name=e,"value"in r&&(r=convertDataDescriptorToAccessor(t,e,n));var s=r.get,h=r.set;"function"==typeof s&&(r.get=function(){return log.call(i,n,o),s.apply(this,arguments)}),"function"==typeof h&&(r.set=function(){return log.call(i,n,o),h.apply(this,arguments)}),Object.defineProperty(t,e,r)}function DeprecationError(t,e,n){var i,r=new Error;return Object.defineProperty(r,"constructor",{value:DeprecationError}),Object.defineProperty(r,"message",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(r,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(r,"namespace",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(r,"stack",{configurable:!0,enumerable:!1,get:function(){return void 0!==i?i:i=createStackString.call(this,n)},set:function(t){i=t}}),r}var callSiteToString=require("./lib/compat").callSiteToString,eventListenerCount=require("./lib/compat").eventListenerCount,relative=require("path").relative;module.exports=depd;var basePath=process.cwd();