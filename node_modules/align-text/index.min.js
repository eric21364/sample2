"use strict";var typeOf=require("kind-of"),repeat=require("repeat-string"),longest=require("longest");module.exports=function(t,e){var n,a=typeOf(t);if("array"===a)n=t;else{if("string"!==a)throw new TypeError("align-text expects a string or array.");n=t.split(/(?:\r\n|\n)/)}for(var i=typeOf(e),r=n.length,o=longest(n),s=[],h=0;r--;){var c,l=String(n[h++]);if(c="function"===i?e(l.length,o.length,l,n,h):"number"===i?e:o.length-l.length,"number"===typeOf(c))s.push(repeat(" ",c)+l);else if("object"===typeOf(c)){var u=repeat(c.character||" ",c.indent||0);s.push((c.prefix||"")+u+l)}}return"array"===a?s:s.join("\n")};